<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Knockout Web Application Exp-2</title>
        <script src="javascript/library/jquery-1.12.3.js"> </script>
        <script src="javascript/library/knockout-3.4.0.js"> </script>
        <style>
            div.pagination ul, div.pagination ul li {
                display: inline-block;
            }
        </style>
    </head>
    <body data-bind="with: viewmodel">
        <table>
            <tr>
                <td>ID: <input type="number" data-bind="value: inID, disable: isEditClicked" /> </td>
                <td>Name: <input type="text" data-bind="value: inName" /> </td>
                <td>Contact Name: <input type="text" data-bind="value: inContactName" /> </td>
                <td>Address: <input type="text" data-bind="value: inAddress" /> </td>
                <!-- <td>City: <input type="text" data-bind="value: inCity" /></td>
                <td>Postal Code: <input type="text" data-bind="value: inPostalCode" /> </td>
                <td>Country: <input type="text" data-bind="value: inCountry" /> </td>
                -->
            </tr>
        </table>
        <button class="" data-bind="click: submitCustomerData">Submit</button>
        
        <table>
            <tr>
                <th>ID <button data-bind="click: idSorting">Sort</button>
                    <br>
                    <input data-bind="value: idFilterValue, valueUpdate: 'afterkeydown'" />
                </th>
                <th>Name <button data-bind="click: nameSorting">Sort</button>
                    <br>
                    <input data-bind="value: nameFilterValue, valueUpdate: 'afterkeydown'" />
                </th>
                <th>Contact Name</th>
                <th>Address </th>
                <th>City </th>
                <th>Postal Code </th>
                <th>Country </th>
            </tr>
            <!-- ko foreach: RulepagedList -->
            <tr>
                <td data-bind="text: customerid"></td>
                <td data-bind="text: customername"></td>
                <td data-bind="text: contactname"></td>
                <td data-bind="text: address"></td>
                <td data-bind="text: city"></td>
                <td data-bind="text: postalcode"></td>
                <td data-bind="text: country"></td>
                <td> <button data-bind="click: editRecord">Edit</button> </td>
                <td> <button data-bind="click: deleteRecord">Delete</button> </td>
            </tr>
            <!-- /ko -->
        </table>
        <!-- PAGINATION OPEN -->
        <div class="pagination">
            <ul>
                <li data-bind="css: { disabled: RulepageIndex() === 0 }" title="First">
                    <a href="#" data-bind="click: RulefirstPageClick" class="greybrdpagi">
                        <span class="imgpo1">First</span>
                    </a>
                </li>
                <li data-bind="css: { disabled: RulepageIndex() === 0 }" title="Previous">
                    <a href="#" data-bind="click: RulepreviousPage" class="greybrdpagi">
                        <span class="imgpo1">Previous</span>
                    </a>
                </li>
            </ul>
            <ul data-bind="foreach: RulePages">
                <li data-bind="css: { active: pageNumber === ($parent.RulepageIndex() + 1) }">
                    <a href="#" data-bind="text: pageNumber, click: function () { $parent.RulemoveToPage(pageNumber - 1); }"></a>
                </li>
            </ul>
            <ul>
                <li data-bind="css: { disabled: RulepageIndex() === RulemaxPageIndex() }" title="Next">
                    <a href="#" data-bind="click: RulenextPage" class="greybrdpagi">
                        <span class="imgpo1">Next</span>
                    </a>
                </li>
                <li data-bind="css: { disabled: RulepageIndex() === 0 }" title="Last">
                    <a href="#" data-bind="click: RulelastPageClick" class="greybrdpagi">
                        <span class="imgpo1">Last</span>
                    </a>
                </li>
            </ul>
        </div>
        <!-- PAGINATION CLOSE -->
        <script src="javascript/ViewModel.js"> </script>
        <script>
            var viewmodel = new ViewModel();
            ko.applyBindings(viewmodel);
        </script>
        <script src="javascript/AppStart.js"> </script>
    </body>
</html>
